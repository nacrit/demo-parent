# 利用工厂模式 + 模板方法模式，消除 if…else 和重复代码
## 需求：假设要开发一个购物车下单的功能，针对不同用户进行不同处理：
* 普通用户需要收取运费，运费是商品价格的 10%，无商品折扣；
* VIP 用户同样需要收取商品价格 10% 的快递费，但购买两件以上相同商品时，第三件开始享受一定折扣；
* 内部用户可以免运费，无商品折扣。

我们的目标是实现三种类型的购物车业务逻辑，把入参 Map 对象（Key 是商品 ID，Value 是商品数量），转换为出参购物车类型 Cart。




